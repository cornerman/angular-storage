!function(){angular.module("angular-storage",["angular-storage.store"]),angular.module("angular-storage.internalStore",["angular-storage.localStorage","angular-storage.sessionStorage"]).factory("InternalStore",["$log","$injector",function(e,t){function r(e,r,a){this.namespace=e||null,this.delimiter=a||".",this.inMemoryCache={},this.storage=t.get(r||"localStorage"),this.storageAvailable=this.storage.storageAvailable}return r.prototype.getNamespacedKey=function(e){return this.namespace?[this.namespace,e].join(this.delimiter):e},r.prototype.set=function(e,t){this.inMemoryCache[e]=t,this.storage.set(this.getNamespacedKey(e),JSON.stringify(t))},r.prototype.get=function(t){var r=null;if(t in this.inMemoryCache)return this.inMemoryCache[t];var a=this.storage.get(this.getNamespacedKey(t));try{r="undefined"==typeof a||"undefined"===a?void 0:JSON.parse(a),this.inMemoryCache[t]=r}catch(o){e.error("Error parsing saved value",o),this.remove(t)}return r},r.prototype.remove=function(e){delete this.inMemoryCache[e],this.storage.remove(this.getNamespacedKey(e))},r}]),angular.module("angular-storage.localStorage",["angular-storage.noStorage"]).service("localStorage",["$window","$injector",function(e,t){try{e.localStorage.setItem("testKey","test"),e.localStorage.removeItem("testKey"),this.storageAvailable=!0}catch(r){this.storageAvailable=!1}if(this.storageAvailable)this.set=function(t,r){return e.localStorage.setItem(t,r)},this.get=function(t){return e.localStorage.getItem(t)},this.remove=function(t){return e.localStorage.removeItem(t)};else{var a=t.get("noStorage");this.set=a.set,this.get=a.get,this.remove=a.remove}}]),angular.module("angular-storage.noStorage",[]).service("noStorage",function(){this.set=function(){},this.get=function(){},this.remove=function(){}}),angular.module("angular-storage.sessionStorage",["angular-storage.noStorage"]).service("sessionStorage",["$window","$injector",function(e,t){if(this.storageAvailable=!!e.sessionStorage,this.storageAvailable)this.set=function(t,r){return e.sessionStorage.setItem(t,r)},this.get=function(t){return e.sessionStorage.getItem(t)},this.remove=function(t){return e.sessionStorage.removeItem(t)};else{var r=t.get("noStorage");this.set=r.set,this.get=r.get,this.remove=r.remove}}]),angular.module("angular-storage.store",["angular-storage.internalStore"]).provider("store",function(){var e="localStorage";this.setStore=function(t){t&&angular.isString(t)&&(e=t)},this.$get=["InternalStore",function(t){var r=new t(null,e);return r.getNamespacedStore=function(e,r,a){return new t(e,r,a)},r}]})}();